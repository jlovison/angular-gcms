<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Angular-gcms : Use a google spreadsheet as a backend content repository">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Angular-gcms</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/jlovison/angular-gcms">View on GitHub</a>

          <h1 id="project_title">Angular-gcms</h1>
          <h2 id="project_tagline">Use a google spreadsheet as a backend content repository</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/jlovison/angular-gcms/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/jlovison/angular-gcms/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>Mock a read-only backend easily</h3>

<p>Angular is awesome, but one of the biggest hurdles in prototyping a new project is getting together a backend service to build off of. I often found myself in situations where I wanted an easily modified backend, ideally one that non-technical co-workers could modify (i.e. "do the data entry for").</p>

<p>There's actually a great data modeling service that allows easy collaborative editing: Google Spreadsheets. And awesomely enough, it has a JSON interface where you can grab the spreadsheet as a JSON blob. The formatting is a bit wonky, which is where <em>angular-gcms</em> comes in.</p>

<p>For read-only backends or prototyping, this is a great solution. If you want to write as well, you could always wrap together a service that reads from the spreadsheet, saves a version in localStorage, and then writes to that cached version (as long as data synchronization between clients was not necessary).</p>

<h3>How to use</h3>
<h4>Installation</h4>
<p>To install, just use bower:</p>
<pre><code>
$ bower install jlovison/angular-gcms
</code></pre>

<p>After linking the resulting javascript file into your project's HTML (a minified version can be found in the 'dist' directory), add the project module as a dependency to your angular project module declaration:</p>

<pre><code>
angular.module('YourModule', ['OtherStuff', 'jlovison.gcms'])
</code></pre>

<h4>Setting up a Google Spreadsheet</h4>
<p>Now you need a Google Spreadsheet modeled around your data. Create a spreadsheet on <a href="https://drive.google.com">Google Drive</a>. The top row will be ignored, so feel free to add in column headers for the data, along with some initial data values.</p>

<p>Ok, great. Now, to make the spreadsheet accessible for ingestion with the GcmsService, go to <em>File > Publish to the web</em>. You'll see various options regarding how the document is published, but it doesn't matter what you select, as long as the document is published. While here though, make sure to copy down the spreadsheet ID (you can find it in the url for the 'Document link' -- it's the long number between <code>/d/</code> and <code>/pubhtml</code>).</p>

<p>That's all for the spreadsheet.</p>

<h4>Using the GcmsService in your project</h4>

<p>So now let's fetch the data in your spreadsheet into your project. I'll illustrate a simple controller use case (where you want to map the data into a variable bound to your scope). You could also use this service within other services, etc.</p>

<p>Inside your <em>controller.js</em><p>

<pre><code>
angular.module('YourApp')
  .controller('YourController', function ($scope, GcmsService) {
    // Fetch the content
    GcmsService.get(
      '0123456789ABCDEFGHIJKLMNOPQRSTUVWZYZ11121314', // Your spreadsheet ID 
      ['fieldName1', 'fieldName2']  // Your column names (in correct order)
    ).then(function(data) {
      $scope.content = data; 
    });
  });
</code></pre>

<p>The service takes your spreadsheet ID and a list of your column names, and returns a promise, which, once it resolves, has a data object that has each row as an object with attributes that match your column names, and values matching the respective data in the spreadsheet.</p>

<h4>Caveats</h4>
<p>Sometimes I've had strange results with the Google Spreadsheet JSON interface when the table cells include apostrophes. In general, know that the entire service could easily break should Google make any changes to how Spreadsheet documents are presented as JSON. So while this is a really useful resource in quickly developing a prototype or demo, I <strong>REALLY</strong> don't suggest using it in production (or at least for anything critical).</p>

<h4>Contributing</h4>
<p>Feel free to issue pull requests. The project as is has been functional for me in several projects so far, and while it could always use a solid test suite (or any tests), I've kept the scope of the project somewhat limited. But this is more a reflection of my own laziness, and not a particular desire to avoid features if a good fit.</p>
    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Angular-gcms maintained by <a href="https://github.com/jlovison">jlovison</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

  </body>
</html>
